<!DOCTYPE html>
<head>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Agbalumo&family=Londrina+Shadow&family=Pacifico&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100&display=swap" rel="stylesheet">

<style>
body {
  font-family: helvetica, sans-serif;
  margin: 0 auto;
  max-width: 600px;
  background: #A1CFD8;
}
div {
  height: 300px;
  background-size: cover;
  position: relative;
  margin: 40px 0 0 0;
  border-radius: 12px;
}
h1 {
  font-family: 'Londrina Shadow', cursive;
  text-align: center;
  font-size: 75px;
  color: #2D73A6;
  margin: 60px 0 0 0;
  font-family: 'Open Sans', sans-serif;
}
h2 {
  text-align: center;
  color: #7EA79B;
  margin: 0px 0 70px 0;
  font-family: 'Roboto', sans-serif;
}
p {
  color: rgba(200,350,250,2250);
  background: black;
  background: linear-gradient(bottom, rgba(10,900,10,1), rgba(10,50,144,.4));
  background: -webkit-linear-gradient(bottom, rgba(10,1010,1), rgba(4560,10,0,.4));
  background: -moz-linear-gradient(bottom, rgba(9,10,10,1), rgba(10,60,0,.4));
  padding: 10px;
  line-height: 28px;
  text-align: justify;
  position: absolute;
  bottom: 0;
  margin: 0;
  height: 30px;
  transition: height .5s;
  -webkit-transition: height .5s;
  -moz-transition: height .5s;
  font-family: 'Poppins', sans-serif;
}

small {
  opacity: 0;
}

.show-description p {
  height: 150px;
}

.show-description small {
  opacity: 1;
}

.first{
  background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSTjgHbDFytZQRXB7oRb31qYE_qn7oji1Tr9a6DKCixNnimpJv6m-DnK8Z8I8WxOo-0p9Q&usqp=CAU");
}
.second{
  background-image: url("https://themiddleeastbeat.com/wp-content/uploads/2023/09/syed-f-hashemi-bGAPRnJITpQ-unsplash-scaled.jpg");
}
.dessert{
  background-image: url("https://amiraspantry.com/wp-content/uploads/2020/11/kunafa-IG.jpg");
}
.price {
  float: right;
}
@media (max-width: 500px) {
  h1 {
    font-size: 50px;
    margin-top: 20px;
    line-height: 40px;
  }
  h2 {
    font-size: 20px;
    margin: 20px 0 30px 0;
  }
  div {
    margin: 20px 12px 0 12px;
  }
  p {
    font-size: 20px;
    line-height: 24px;
    
  }
  small {
    font-size: 16px;
  
  }
  input {
  	font-size: 22px;
  }
  
}

</style>

</head>

<body>
<h1>yemen cafe</h1>
<h2>a middle eastern eatery</h2>
<div class="first">
 <input class="quantities"type="number" min="0" style="width: 50px"> 
  <p>kabsa <span class="price">$35</span><br />
  <small>
 It is a dish made of rice and meat, cooked either separately or together. It can be made with spices and camel meat, lamb, chicken or fish. </small></p>
</div>

<div class="second">
<input class="quantities"type="number" min="0" style="width: 50px">
  <p>baklava<span class="price">$22</span><br />
  <small>Description. Baklava is a rich, sweet dessert pastry made of layers of filo filled with chopped nuts and sweetened and held together with syrup or honey. It is characteristic of the cuisines of the Levant and the broader Middle East, along with Greece, the South Caucasus, Balkans, Maghreb, and Central Asia.</small></p>
</div>
  
<div class="dessert">
 <input class="quantities"type="number" min="0" style="width: 50px">
  <p>kunafa <span class="price">$8</span><br />
  <small>Knafeh, which originates from the Palestinian streets of Nablus was founded in the early parts of last century.</small></p>
</div>
<br><br>
   <input id="Name" placeholder="Your name">
  <input id="Email" type="email" placeholder="Your email">
  <input id="submit" type="submit">
  <br><br>
<script>
  $('div').on('click', function() {
      $(this).toggleClass('show-description');
  });
  </script>
  
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-analytics.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBSd5qUx1jvBakPjfltSBWxyELdF8rwvU4",
    authDomain: "final-2-fee8a.firebaseapp.com",
    projectId: "final-2-fee8a",
    storageBucket: "final-2-fee8a.appspot.com",
    messagingSenderId: "1016486810825",
    appId: "1:1016486810825:web:8b0256fbb97e3ca3bbe918",
    measurementId: "G-7T4M934FEL"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getDatabase(app);
  
  
  
  
  
  
  
      const Name = document.querySelector("#Name") 
      const Email = document.querySelector("#Email")
      document.querySelector('#submit').addEventListener('click', Submit)
      const quantities = document.querySelectorAll(".quantities")
      const itemsList = ["kabsa", "baklava", "kunafa"]
      const prices = document.querySelectorAll(".price")
  
    
  function Submit() {
    const timestamp = buildTimestamp()
	  
	  let total = 0
	  let cart = { }
	  for  (let i=0; i<quantities.length; i=i+1) {
	  	if (quantities[i].value != "0" && quantities[i].value != "") {	
			  let price = prices[i].innerHTML.replace('$', '')
			  total = total + quantities[i].value * price 
	  		cart[itemsList[i]] = parseInt(quantities[i].value) 
	  	}
	  	quantities[i].value = ""
	  }

  
    set(ref(db, timestamp), {
  	  Name: Name.value,
          email: Email.value,
	  cart: cart,
totalPrice: total,
		  paid: "not yet",
	    
    });

    Name.value = ""
    Email.value = ""
  }

  function buildTimestamp() {
    const now = new Date();
    let timestamp = now.getFullYear().toString() + "/";
    //const month = now.toLocaleString('default', { month: 'long' });

    let month = now.getMonth()+1   //add 1 because Javascript uses 0 for January
    month = month.toString()
    month = addLeadingZero(month)
    timestamp += month + "/"; 

    let date = now.getDate().toString()
    date = addLeadingZero(date)
    timestamp += date + "/";

    let hours = now.getHours().toString()
    hours = addLeadingZero(hours)
    timestamp += hours + ":";

    let minutes = now.getMinutes().toString()
    minutes = addLeadingZero(minutes)
    timestamp += minutes + ":";

    let seconds = now.getSeconds().toString()
    seconds = addLeadingZero(seconds)
    timestamp += seconds;

    return timestamp
  }

  function addLeadingZero(units) {
  	if (units.length < 2) {
  		units = "0" + units
  	}
  	return units
  }
  
</script>

</body>
